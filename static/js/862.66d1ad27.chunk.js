"use strict";(self.webpackChunkgame_store=self.webpackChunkgame_store||[]).push([[862],{515:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(885),s=t(2791),a={header:"styles_header__CcvTA",container:"styles_container__nzd23",logo:"styles_logo__QOZOh",sony_block:"styles_sony_block__ONUqh","outer_profile_blo\u0441k":"styles_outer_profile_blo\u0441k__qPFwj",profile_block:"styles_profile_block__FmnhA",profile_block_image:"styles_profile_block_image__G4p8m",underline:"styles_underline__2g06Q",text:"styles_text__m60Q+",text_menu:"styles_text_menu__OYGMy"},o=t(6748),i=t(6871),c=t(3153),u=t(4581),l=t(1413),m=t(4165),_=t(5861),d=t(4217),f=t(9150),p="styles_items__e4rl6",h="styles_block__F0Jk1",x="styles_text__Rxllz",b="styles_img__6wbxr",g=t(184),v=function(e){var n=e.name,t=e.image,r=e.funcToDo;return(0,g.jsxs)("div",{className:h,onClick:r,children:[(0,g.jsx)("img",{alt:n,src:t,className:b}),(0,g.jsx)("p",{className:x,children:n})]})},Z=s.memo(v),y=t(6444),k=function(){var e=(0,_.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.w7)(u.I8);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=t(7239),w=function(e){var n=e.activeModal,t=e.setActiveModal,r=(0,c.T)(),s=(0,i.s0)(),a=(0,c.C)((function(e){return e.user.user})),o=function(){var e=(0,_.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:r((0,j.kX)()),t(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){t(!1),setTimeout((function(){s(e)}),300)},h=[{name:"Profile",image:"/images/user-icon.png",funcToDo:function(){return u("/profile/".concat(a.uid))}},{name:"Favorite",image:"/images/heart-uncolored.png",funcToDo:function(){return u("/".concat(f.Z.FAVORITE))}},{name:"My games",image:"/images/shopping-cart-icon.png",funcToDo:function(){return u("/".concat(f.Z.MY_GAMES))}},{name:"History",image:"/images/history-icon.png",funcToDo:function(){return u("/".concat(f.Z.HISTORY))}},{name:"Exit",image:"/images/exit-icon.png",funcToDo:o}].map((function(e,n){return(0,g.jsx)(Z,(0,l.Z)({},e),n)})),x=n?"35px":"10px";return(0,g.jsx)(d.Z,{activeModal:n,setActiveModal:t,topAnimation:x,rigthPosition:"-10px",children:(0,g.jsx)("div",{className:p,children:h})})},N=s.memo(w),C=function(){var e=(0,i.s0)(),n=(0,c.C)((function(e){return e.user.user})),t=(0,s.useState)(!1),l=(0,r.Z)(t,2),m=l[0],_=l[1],d=(0,s.useState)(!1),f=(0,r.Z)(d,2),p=f[0],h=f[1];return(0,g.jsx)("header",{className:a.header,children:(0,g.jsxs)("div",{className:a.container,children:[(0,g.jsx)("img",{alt:"logo",src:"/images/logo.png",className:a.logo,onClick:function(){return e(o.Z.HOME)}}),(0,g.jsx)("div",{className:a.sony_block,children:(0,g.jsx)("img",{alt:"sony",src:"/images/sony.png",className:a.sony_black_image})}),u.I8.currentUser?(0,g.jsxs)("div",{className:a["outer_profile_blo\u0441k"],children:[(0,g.jsxs)("div",{className:a.profile_block,onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)},onClick:function(){return h(!0)},children:[(0,g.jsx)("img",{alt:"user",src:"".concat((null===n||void 0===n?void 0:n.image)||"/images/profile.png"),className:a.profile_block_image}),(0,g.jsx)("p",{className:"".concat(a.text," ").concat(m&&a.underline),children:n.username})]}),(0,g.jsx)(N,{activeModal:p,setActiveModal:h})]}):(0,g.jsx)("p",{className:a.text,onClick:function(){return e("/".concat(o.Z.LOG_IN))},children:"Log in"})]})})},M=s.memo(C)},5797:function(e,n,t){var r=t(4165),s=t(5861),a=t(9062),o=t(4581),i=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.PL)((0,a.hJ)(o.db,"users"));case 2:e.sent.forEach((function(e){if(e.data().email===n)throw new Error("Such email already exist")}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();n.Z=i},1191:function(e,n,t){var r=t(4165),s=t(5861),a=t(9062),o=t(4581),i=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.PL)((0,a.hJ)(o.db,"users"));case 2:e.sent.forEach((function(e){if(e.data().username===n)throw console.log(e.data().username),new Error("Such username already exist")}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();n.Z=i},3862:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var r=t(2791),s=t(515),a=t(4165),o=t(5861),i=t(4942),c=t(1413),u=t(885),l=t(4889),m=t(6748),_=t(6871),d=t(4581),f=t(6444),p=t(9062),h=function(){return(new Date).getTime().toString()},x=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t,r,s,o,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Xb)(d.I8,n.email,n.password);case 2:return s=e.sent,o=(0,p.JU)(d.db,"users",s.user.uid),i=(0,c.Z)((0,c.Z)({},n),{},{recentSearch:[],createdAt:h(),purchasesList:[],uid:(null===(t=d.I8.currentUser)||void 0===t?void 0:t.uid)||"",bio:"",image:"",myGames:[],favoriteGames:[]}),e.next=7,(0,p.pl)(o,i);case 7:return e.abrupt("return",(null===(r=d.I8.currentUser)||void 0===r?void 0:r.uid)||"");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=x,g=t(1191),v=t(5797),Z=t(7451),y=t(3153),k=t(184),j=function(){var e=(0,_.s0)(),n=(0,y.T)(),t=(0,r.useState)({username:"",name:"",email:"",password:""}),s=(0,u.Z)(t,2),d=s[0],f=s[1],p=(0,r.useState)(""),h=(0,u.Z)(p,2),x=h[0],j=h[1],w=d.username.length>4&&d.name.length>1&&d.password.length>6,N=function(e){var n=e.target,t=n.name,r=n.value;f((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,i.Z)({},t,r))}))},C=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){var s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,(0,g.Z)(d.username);case 4:return t.next=6,(0,v.Z)(d.email);case 6:return t.next=8,b(d);case 8:return s=t.sent,t.t0=n,t.next=12,(0,Z.B)(s);case 12:t.t1=t.sent,(0,t.t0)(t.t1),e(m.Z.HOME),t.next=21;break;case 17:t.prev=17,t.t2=t.catch(1),j(t.t2.message),f({username:"",name:"",email:"",password:""});case 21:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}();return(0,k.jsx)("div",{className:l.Z.section,children:(0,k.jsxs)("div",{className:l.Z.inner_container,children:[(0,k.jsxs)("div",{className:l.Z.container,children:[(0,k.jsx)("p",{className:l.Z.log_in,children:"Sign Up"}),x.length>0&&(0,k.jsx)("p",{className:l.Z.error,children:x}),(0,k.jsxs)("form",{method:"POST",className:l.Z.form,children:[(0,k.jsx)("input",{value:d.username,name:"username",type:"text",placeholder:"username",onChange:function(e){return N(e)}}),(0,k.jsx)("input",{value:d.name,name:"name",type:"text",placeholder:"name",onChange:function(e){return N(e)}}),(0,k.jsx)("input",{value:d.email,name:"email",type:"email",placeholder:"Email address",onChange:function(e){return N(e)}}),(0,k.jsx)("input",{value:d.password,name:"password",type:"password",placeholder:"Password",onChange:function(e){return N(e)}}),(0,k.jsx)("button",{type:"submit",className:"".concat(l.Z.btn_submit," ").concat(w?l.Z.btn_submit_active:l.Z.btn_submit_disabled),onClick:function(e){return C(e)},disabled:!w,children:"Sign Up"})]})]}),(0,k.jsxs)("div",{className:l.Z.bottom_block,children:[(0,k.jsx)("p",{className:l.Z.bottom_block_text,children:"Already have an account?"}),(0,k.jsx)("button",{className:l.Z.bottom_block_btn,type:"button",onClick:function(){return e("/".concat(m.Z.LOG_IN))},children:"Log in"})]})]})})},w=r.memo(j),N=function(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s.Z,{}),(0,k.jsx)(w,{})]})},C=r.memo(N)},4889:function(e,n){n.Z={section:"styles_section__GB1SD",inner_container:"styles_inner_container__729Y+",container:"styles_container__u6hak",log_in:"styles_log_in__R9XaB",error:"styles_error__oO2Et",form:"styles_form__NWF8-",btn_submit:"styles_btn_submit__CH6tm",btn_submit_active:"styles_btn_submit_active__NWdgK",btn_submit_disabled:"styles_btn_submit_disabled__PixOI",bottom_block:"styles_bottom_block__eQCGu",bottom_block_btn:"styles_bottom_block_btn__6Lvd1"}}}]);
//# sourceMappingURL=862.66d1ad27.chunk.js.map